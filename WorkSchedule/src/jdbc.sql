select * from incmember

SELECT * FROM DIVISION

SELECT * FROM DEPARTMENT

DROP DEPARTMENT CASCADE CONSTRAINT

--사업부_DIVISION--

CREATE TABLE DIVISION( 
DIVID 		VARCHAR2(10),
DIVNAME		VARCHAR2(20),
CONSTRAINT 	DIVISION_PK PRIMARY KEY(DIVID)
);

--DIVISION INSERT

INSERT INTO DIVISION VALUES('S01','지원담당');

INSERT INTO DIVISION VALUES('S02','ITO사업부1');

INSERT INTO DIVISION VALUES('S03','ITO사업부2');

INSERT INTO DIVISION VALUES('S04','밸류서비스사업부');

INSERT INTO DIVISION VALUES('S05','플랫폼사업부');

INSERT INTO DIVISION VALUES('S06','S-LAB');





--부서_DEPARTMENT--

CREATE TABLE DEPARTMENT(
DEPTID 		VARCHAR2(10),
DEPTNAME	VARCHAR2(30),
DIVID 		VARCHAR2(10),
CONSTRAINT 	DEPARTMENT_PK PRIMARY KEY(DEPTID),
CONSTRAINT	DEPARTMENT_FK FOREIGN KEY(DIVID) REFERENCES DIVISION(DIVID)
);

INSERT INTO DEPARTMENT VALUES('D01','인사팀','S05');

INSERT INTO DEPARTMENT VALUES('D02','인사재무팀','S01');

INSERT INTO DEPARTMENT VALUES('D03','Blossom&Mobile','S01');

INSERT INTO DEPARTMENT VALUES('D04','POS팀','S01');

INSERT INTO DEPARTMENT VALUES('D05','백화점팀','S02');

INSERT INTO DEPARTMENT VALUES('D06','이마트1팀','S02');

INSERT INTO DEPARTMENT VALUES('D07','이마트2팀','S02');

INSERT INTO DEPARTMENT VALUES('D08','스타벅스팀','S02');

INSERT INTO DEPARTMENT VALUES('D09','TV쇼핑팀','S02');

INSERT INTO DEPARTMENT VALUES('D10','면세점팀','S02');

INSERT INTO DEPARTMENT VALUES('D11','솔루션사업팀','S03');

INSERT INTO DEPARTMENT VALUES('D12','플랫폼운영팀','S04');

INSERT INTO DEPARTMENT VALUES('D13','플랫폼서비스팀','S04');

INSERT INTO DEPARTMENT VALUES('D14','관리팀','S05');

INSERT INTO DEPARTMENT VALUES('D15','구매팀','S05');

INSERT INTO DEPARTMENT VALUES('D16','CSR팀','S05');





--직원_EMPLOYEE--

select * from employee

CREATE TABLE EMPLOYEE(
EMPID		VARCHAR2(10),
EMPPWD		VARCHAR2(30),
EMPNAME		VARCHAR2(30),
EMPGRADE	VARCHAR2(30),
EMPPHONE	VARCHAR2(30),
EMPMAIL		VARCHAR2(30),
EMPLOC		VARCHAR2(30) 	DEFAULT '본사 10F',
DEPTID		VARCHAR2(10),
CONSTRAINT	EMPLOYEE_PK 	PRIMARY KEY(EMPID),
CONSTRAINT	EMPLOYEE_FK		FOREIGN KEY(DEPTID) REFERENCES DEPARTMENT(DEPTID)
);


INSERT INTO EMPLOYEE VALUES('170101','test','홍길동','담당','01012345678','example@shinsegae.com', DEFAULT, 'D01');

INSERT INTO EMPLOYEE VALUES('074335','test','윤신영','담당','01099675683','syyoon2000@shinsegae.com', DEFAULT, 'D01');

INSERT INTO EMPLOYEE VALUES('175574','test','정서희','담당','01051095574','p906pk@shinsegae.com', '본사 14F', 'D13');

INSERT INTO EMPLOYEE VALUES('176011','test','권은비','담당','01077656011','p906pa@shinsegae.com', '본사 13F', 'D03');

INSERT INTO EMPLOYEE VALUES('177307','test','최석진','담당','01091897307','p906pm@shinsegae.com', '본사 13F', 'D02');

INSERT INTO EMPLOYEE VALUES('163285','test','김수민','담당','01094447043','163285@shinsegae.com', DEFAULT, 'D01');



select * 
	if (
	select count(*) from work where workdate='20161129'
	) = 0 
from employee a
join work b using (empid)

s


--즐겨찾기_FAVORITE--

CREATE TABLE FAVORITE(
EMPID		VARCHAR2(10) NOT NULL,
EMPIDFAV	VARCHAR2(10) NOT NULL,
CONSTRAINT	FAVORITE_FK FOREIGN KEY(EMPIDFAV) REFERENCES EMPLOYEE(EMPID)
);

ALTER TABLE FAVORITE 
ADD CONSTRAINT FAVORITE_PK PRIMARY KEY (EMPID, EMPIDFAV)

INSERT INTO FAVORITE VALUES('074335','175574');

INSERT INTO FAVORITE VALUES('074335','176011');

INSERT INTO FAVORITE VALUES('074335','177307');




--근무_WORK--

CREATE TABLE WORK(
WORKDATE	DATE NOT NULL,
EMPID		VARCHAR2(10) NOT NULL,
AMLOC		VARCHAR2(30),
AMLOCDETAIL VARCHAR2(30),
PMLOC		VARCHAR2(30),
PMLOCDETAIL	VARCHAR2(30),
CONSTRAINT	WORK_FK FOREIGN KEY(EMPID) REFERENCES EMPLOYEE(EMPID)
);

ALTER TABLE WORK 
ADD CONSTRAINT WORK_PK PRIMARY KEY (WORKDATE, EMPID)

select * from work


INSERT INTO WORK VALUES('2016-11-27','170101','외근','교육','외근','교육');

INSERT INTO WORK VALUES('20161110','170101',DEFAULT,NULL,'MOBILE','플랫폼사업부 미팅');

INSERT INTO WORK VALUES('20161114','170101','휴무',NULL,'휴무',NULL);

INSERT INTO WORK VALUES('20161122','170101',DEFAULT,NULL,'하남 스타필드',NULL);

FAVORITE INSERT

INSERT INTO FAVORITE VALUES('170101','175574');

INSERT INTO FAVORITE VALUES('170101','176011');

INSERT INTO FAVORITE VALUES('170101','177307');

INSERT INTO FAVORITE VALUES('074335','163285');



INSERT INTO WORK VALUES('20161103','074335','외근','교육','본사 14F',NULL);

INSERT INTO WORK VALUES('20161114','074335','휴무',NULL,'휴무',NULL);

INSERT INTO WORK VALUES('20161122','074335',DEFAULT,NULL,'하남 스타필드',NULL);

INSERT INTO WORK VALUES('20161201','074335',DEFAULT,NULL,'성수','이마트팀 미팅');

INSERT INTO WORK VALUES('20161202','074335',DEFAULT,NULL,'MOBILE','워크샵');

INSERT INTO WORK VALUES('20161212','074335','휴무',NULL,'휴무',NULL);

--근무지_LOCATIONLIST--

CREATE TABLE LOCATIONLIST(
LOCNUM		NUMBER(20),
LOCNAME		VARCHAR2(30),
CONSTRAINT	LOCATIONLIST_PK PRIMARY KEY(LOCNUM)
);


INSERT INTO LOCATIONLIST VALUES(1,'본사 10F');

INSERT INTO LOCATIONLIST VALUES(2,'본사 11F');

INSERT INTO LOCATIONLIST VALUES(3,'본사 13F');

INSERT INTO LOCATIONLIST VALUES(4,'본사 14F');

INSERT INTO LOCATIONLIST VALUES(5,'외근');

INSERT INTO LOCATIONLIST VALUES(6,'휴무');

INSERT INTO LOCATIONLIST VALUES(7,'MOBILE');

INSERT INTO LOCATIONLIST VALUES(8,'성수');

INSERT INTO LOCATIONLIST VALUES(9,'하남 스타필드');

